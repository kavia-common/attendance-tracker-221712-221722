{"is_source_file": true, "format": "Python", "description": "This file defines Flask-based API routes for attendance management, including endpoints for listing, marking, summarizing attendance, and streaming real-time updates using Server-Sent Events.", "external_files": ["../db", "../models"], "external_methods": ["ensure_schema", "sse_broker", "get_attendance_for_class", "get_attendance_summary_for_user", "mark_attendance"], "published": ["AttendanceCreateAndList", "AttendanceSummary", "AttendanceSSE"], "classes": [{"name": "MarkSchema", "description": "Marshmallow schema for validating attendance mark requests."}, {"name": "AttendanceCreateAndList", "description": "Flask MethodView for listing and creating attendance records."}, {"name": "AttendanceSummary", "description": "Flask MethodView for retrieving attendance summaries for a user."}, {"name": "AttendanceSSE", "description": "Flask MethodView for streaming real-time attendance updates via Server-Sent Events."}], "methods": [{"name": "get(self)", "description": "Handles GET requests for listing attendance records, attendance summary, or streaming events, depending on context.", "scope": "AttendanceSummary", "scopeKind": "class"}, {"name": "post(self)", "description": "Handles POST requests for marking attendance in a class.", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"name": "generator()", "scope": "AttendanceSSE.get", "scopeKind": "member", "description": "unavailable"}], "calls": ["get_attendance_for_class", "get_attendance_summary_for_user", "mark_attendance", "ensure_schema", "sse_broker.register", "sc.stream", "sse_broker.unregister"], "search-terms": ["attendance", "Server-Sent Events", "mark attendance", "attendance summary", "flask smorest", "attendance endpoints"], "state": 2, "file_id": 11, "knowledge_revision": 32, "git_revision": "4e146841d7e8e67865c2fa103a9e85ed8a2eef90", "revision_history": [{"24": ""}, {"32": "4e146841d7e8e67865c2fa103a9e85ed8a2eef90"}], "ctags": [{"_type": "tag", "name": "AttendanceCreateAndList", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceCreateAndList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AttendanceSSE", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceSSE(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AttendanceSummary", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceSummary(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MarkSchema", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class MarkSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "class_id", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    class_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}, {"_type": "tag", "name": "generator", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^        def generator():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "AttendanceSSE.get", "scopeKind": "member"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceSSE", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceSummary", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    status = fields.String(required=True, validate=validate.OneOf([\"present\", \"absent\", \"late\"])/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    user_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}], "hash": "18a7399e1263e109d35c5d0501d542cd", "format-version": 4, "code-base-name": "firebase_functions", "filename": "firebase_functions/app/routes/attendance.py", "fields": [{"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "class_id = fields.Integer(required=True)", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=True, validate=validate.OneOf([\"present\", \"absent\", \"late\"])/", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = fields.Integer(required=True)", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}]}