{"is_source_file": true, "format": "Python", "description": "This file defines Flask routes and API endpoints for managing attendance records, including listing attendance, marking attendance, retrieving summaries, and providing real-time updates via Server-Sent Events in a web application.", "external_files": ["../db", "../models"], "external_methods": ["ensure_schema", "sse_broker", "get_attendance_for_class", "get_attendance_summary_for_user", "mark_attendance"], "published": ["blp"], "classes": [{"name": "MarkSchema", "description": "Schema for validating attendance marking input, including class ID, user ID, and status."}, {"name": "AttendanceCreateAndList", "description": "Handles listing recent attendance for a class and marking attendance for a user."}, {"name": "AttendanceSummary", "description": "Provides attendance summary data for a specific user."}, {"name": "AttendanceSSE", "description": "Provides a real-time Server-Sent Events stream for attendance updates."}], "methods": [{"name": "get(self)", "description": "Handles GET requests for listing attendance, retrieving summary, or streaming SSE updates.", "scope": "AttendanceSummary", "scopeKind": "class"}, {"name": "post(self)", "description": "Handles POST requests for marking attendance.", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"name": "generator()", "scope": "AttendanceSSE.get", "scopeKind": "member", "description": "unavailable"}], "calls": ["get_attendance_for_class", "get_attendance_summary_for_user", "mark_attendance", "sse_broker.register", "sse_broker.unregister", "sc.stream"], "search-terms": ["attendance", "class_id", "user_id", "mark_attendance", "Server-Sent Events", "attendance summary", "attendance stream", "flask smorest"], "state": 2, "file_id": 11, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "AttendanceCreateAndList", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceCreateAndList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AttendanceSSE", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceSSE(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AttendanceSummary", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class AttendanceSummary(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MarkSchema", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^class MarkSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "class_id", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    class_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}, {"_type": "tag", "name": "generator", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^        def generator():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "AttendanceSSE.get", "scopeKind": "member"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceSSE", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceSummary", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AttendanceCreateAndList", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    status = fields.String(required=True, validate=validate.OneOf([\"present\", \"absent\", \"late\"])/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/attendance-tracker-221712-221722/firebase_functions/app/routes/attendance.py", "pattern": "/^    user_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "MarkSchema", "scopeKind": "class"}], "hash": "c69ac008537e5f26961c0964d13b1b8e", "format-version": 4, "code-base-name": "firebase_functions", "filename": "firebase_functions/app/routes/attendance.py", "fields": [{"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "class_id = fields.Integer(required=True)", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=True, validate=validate.OneOf([\"present\", \"absent\", \"late\"])/", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = fields.Integer(required=True)", "scope": "MarkSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"24": ""}]}